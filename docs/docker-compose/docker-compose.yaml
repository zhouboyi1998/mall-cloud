version: "3.9"
services:

  # ---------- mall-service ----------

  mall-gateway:
    image: ${MALL_GATEWAY_IMAGE}
    ports:
      - "18071:18071"
    networks:
      - mall-net
    volumes:
      - ./logs:/mall/mall-gateway/logs
    restart: always

  mall-security:
    image: ${MALL_SECURITY_IMAGE}
    ports:
      - "18072:18072"
    networks:
      - mall-net
    volumes:
      - ./logs:/mall/mall-security/logs
    restart: always

  mall-user:
    image: ${MALL_USER_IMAGE}
    ports:
      - "18073:18073"
    networks:
      - mall-net
    volumes:
      - ./logs:/mall/mall-user/logs
    restart: always

  mall-id:
    image: ${MALL_ID_IMAGE}
    ports:
      - "18074:18074"
    networks:
      - mall-net
    volumes:
      - ./logs:/mall/mall-id/logs
    restart: always

  mall-captcha:
    image: ${MALL_CAPTCHA_IMAGE}
    ports:
      - "18077:18077"
    networks:
      - mall-net
    volumes:
      - ./logs:/mall/mall-captcha/logs
    restart: always

  mall-eureka:
    image: ${MALL_EUREKA_IMAGE}
    ports:
      - "8761:8761"
    networks:
      - mall-net
    restart: always

  mall-config:
    image: ${MALL_CONFIG_IMAGE}
    ports:
      - "8888:8888"
    networks:
      - mall-net
    restart: always

  mall-zuul:
    image: ${MALL_ZUUL_IMAGE}
    ports:
      - "8040:8040"
    networks:
      - mall-net
    restart: always

  mall-grinder:
    image: ${MALL_GRINDER_IMAGE}
    ports:
      - "18011:18011"
    networks:
      - mall-net
    restart: always

  # ---------- mall-develop ----------

  mall-swagger:
    image: ${MALL_SWAGGER_IMAGE}
    ports:
      - "18076:18076"
    networks:
      - mall-net
    volumes:
      - ./logs:/mall/mall-swagger/logs
    restart: always

  # ---------- mall-operation ----------

  mall-admin:
    image: ${MALL_ADMIN_IMAGE}
    ports:
      - "18075:18075"
    networks:
      - mall-net
    volumes:
      - ./logs:/mall/mall-admin/logs
    restart: always

  mall-hystrix:
    image: ${MALL_HYSTRIX_IMAGE}
    ports:
      - "8701:8701"
    networks:
      - mall-net
    restart: always

  mall-turbine:
    image: ${MALL_TURBINE_IMAGE}
    ports:
      - "8702:8702"
    networks:
      - mall-net
    restart: always

  # ---------- mall-middleware ----------

  mall-solr:
    image: ${MALL_SOLR_IMAGE}
    ports:
      - "18094:18094"
    networks:
      - mall-net
    volumes:
      - ./logs:/mall/mall-solr/logs
    restart: always

  mall-elasticsearch:
    image: ${MALL_ELASTICSEARCH_IMAGE}
    ports:
      - "18093:18093"
    networks:
      - mall-net
    volumes:
      - ./logs:/mall/mall-elasticsearch/logs
    restart: always

  mall-meilisearch:
    image: ${MALL_MEILISEARCH_IMAGE}
    ports:
      - "18097:18097"
    networks:
      - mall-net
    volumes:
      - ./logs:/mall/mall-meilisearch/logs
    restart: always

  mall-opensearch:
    image: ${MALL_OPENSEARCH_IMAGE}
    ports:
      - "18098:18098"
    networks:
      - mall-net
    volumes:
      - ./logs:/mall/mall-opensearch/logs
    restart: always

  mall-clickhouse:
    image: ${MALL_CLICKHOUSE_IMAGE}
    ports:
      - "18096:18096"
    networks:
      - mall-net
    volumes:
      - ./logs:/mall/mall-clickhouse/logs
    restart: always

  mall-fastdfs:
    image: ${MALL_FASTDFS_IMAGE}
    ports:
      - "18092:18092"
    networks:
      - mall-net
    volumes:
      - ./logs:/mall/mall-fastdfs/logs
    restart: always

  mall-minio:
    image: ${MALL_MINIO_IMAGE}
    ports:
      - "18091:18091"
    networks:
      - mall-net
    volumes:
      - ./logs:/mall/mall-minio/logs
    restart: always

  mall-qiniu:
    image: ${MALL_QINIU_IMAGE}
    ports:
      - "18095:18095"
    networks:
      - mall-net
    volumes:
      - ./logs:/mall/mall-qiniu/logs
    restart: always

  mall-binlog:
    image: ${MALL_BINLOG_IMAGE}
    networks:
      - mall-net
    volumes:
      - ./logs:/mall/mall-binlog/logs
    restart: always

  mall-canal:
    image: ${MALL_CANAL_IMAGE}
    networks:
      - mall-net
    volumes:
      - ./logs:/mall/mall-canal/logs
    restart: always

  mall-debezium:
    image: ${MALL_DEBEZIUM_IMAGE}
    networks:
      - mall-net
    volumes:
      - ./logs:/mall/mall-debezium/logs
    restart: always

  # ---------- mall-business ----------

  mall-foundation:
    image: ${MALL_FOUNDATION_IMAGE}
    ports:
      - "18084:18084"
    networks:
      - mall-net
    volumes:
      - ./logs:/mall/mall-foundation/logs
    restart: always

  mall-review:
    image: ${MALL_REVIEW_IMAGE}
    ports:
      - "18088:18088"
    networks:
      - mall-net
    volumes:
      - ./logs:/mall/mall-review/logs
    restart: always

  mall-goods:
    image: ${MALL_GOODS_IMAGE}
    ports:
      - "18081:18081"
    networks:
      - mall-net
    volumes:
      - ./logs:/mall/mall-goods/logs
    restart: always

  mall-order:
    image: ${MALL_ORDER_IMAGE}
    ports:
      - "18082:18082"
    networks:
      - mall-net
    volumes:
      - ./logs:/mall/mall-order/logs
    restart: always

  mall-storage:
    image: ${MALL_STORAGE_IMAGE}
    ports:
      - "18083:18083"
    networks:
      - mall-net
    volumes:
      - ./logs:/mall/mall-storage/logs
    restart: always

  mall-manager:
    image: ${MALL_MANAGER_IMAGE}
    ports:
      - "18085:18085"
    networks:
      - mall-net
    volumes:
      - ./logs:/mall/mall-manager/logs
    restart: always

  mall-member:
    image: ${MALL_MEMBER_IMAGE}
    ports:
      - "18086:18086"
    networks:
      - mall-net
    volumes:
      - ./logs:/mall/mall-member/logs
    restart: always

  mall-merchant:
    image: ${MALL_MERCHANT_IMAGE}
    ports:
      - "18087:18087"
    networks:
      - mall-net
    volumes:
      - ./logs:/mall/mall-merchant/logs
    restart: always

  # ---------- mall-center ----------

  mall-ordercenter:
    image: ${MALL_ORDERCENTER_IMAGE}
    ports:
      - "18061:18061"
    networks:
      - mall-net
    volumes:
      - ./logs:/mall/mall-ordercenter/logs
    restart: always

  mall-openapicenter:
    image: ${MALL_OPENAPICENTER_IMAGE}
    ports:
      - "18062:18062"
    networks:
      - mall-net
    volumes:
      - ./logs:/mall/mall-openapicenter/logs
    restart: always

  mall-goodscenter:
    image: ${MALL_GOODSCENTER_IMAGE}
    ports:
      - "18063:18063"
    networks:
      - mall-net
    volumes:
      - ./logs:/mall/mall-goodscenter/logs
    restart: always

networks:
  mall-net:
    driver: bridge
